function validate(e){var n=e||window.event,t=n.keyCode||n.which;t=String.fromCharCode(t),!/[0-9]|\./.test(t)&&(n.returnValue=!1,n.preventDefault&&n.preventDefault())}jQuery(function(e){"use strict";function n(){var n=e(window).height();1200>e(window).width()&&e("html").removeClass("noIE");var t=e(".home-slider .slides"),a=e(".home-slider .slides li");n>450&&(t.css("max-height",n-200),a.css("max-height",n-200)),e(".scroll_down").click(function(t){t.preventDefault(),e("html, body").animate({scrollTop:n-300},300)})}function t(){var n=e(window).width();if(n>991){var t=e(".bxcarousel li").length;t>3&&(e(".bxcarousel").bxSlider({slideWidth:265,minSlides:4,maxSlides:4,slideMargin:25,nextText:"",prevText:""}),e(".bx-next").html(' <i class="fa fa-chevron-right"></i>'),e(".bx-prev").html(' <i class="fa fa-chevron-left"></i>'))}if(n>550&&n<991){var t=e(".bxcarousel li").length;t>3&&(e(".bxcarousel").bxSlider({slideWidth:265,minSlides:2,maxSlides:2,slideMargin:25,nextText:"",prevText:""}),e(".bx-next").html(' <i class="fa fa-chevron-right"></i>'),e(".bx-prev").html(' <i class="fa fa-chevron-left"></i>'))}if(n<550){var t=e(".bxcarousel li").length;e(".bxcarousel").bxSlider({slideWidth:265,minSlides:1,maxSlides:1,slideMargin:25,nextText:"",prevText:""}),e(".bx-next").html(' <i class="fa fa-chevron-right"></i>'),e(".bx-prev").html(' <i class="fa fa-chevron-left"></i>')}}e(".ksg-cooperation-list .ksg-cooperation-list__single").hover(function(){var n=e(this).attr("data-n");e("div").is(".cp_"+n)&&(e(".ksg-cooperation__text").hide(),e(".cp_"+n).show())}),e("#ksg-home-slider").cycle({fx:"fade",speed:2e3,timeout:5e3}),e(".category_slider").slick({centerMode:!0,slidesToShow:3,nextArrow:'<span class="sliderarrowright"><img src="/wp-content/themes/ksg/images/ksg/rightarrow.png" class="nextarrow"></span>',prevArrow:'<span class="sliderarrowleft"><img src="/wp-content/themes/ksg/images/ksg/leftarrow.png" class="prevarrow"></span>'}),n(),e(window).resize(function(){n()}),jQuery(".minus_btn").click(function(){var e=jQuery(this).parent().children().next(),n=e.val();jQuery(this).parent().hasClass("minus_btn")?n++:n--,n<0&&(n=0),e.val(n)}),jQuery(".plus_btn").click(function(){var e=jQuery(this).parent().children().next(),n=e.val();jQuery(this).hasClass("plus_btn")?n++:n--,n<0&&(n=0),e.val(n)}),e(".noIE .animated").waypoint(function(){var n=e(this).data("animation");e(this).addClass("animation-done").addClass(n)},{triggerOnce:!0,offset:"70%"}),e(".home-slider").flexslider({animation:"fade",slideshowSpeed:7e3,animationSpeed:600,pauseOnHover:!1,prevText:"",nextText:""}),e(".flex-control-nav").prepend('<a class="prev" href="/"><span class="fa fa-chevron-left"></span></a>'),e(".flex-control-nav").append('<a class="next" href="/"><span class="fa fa-chevron-right"></span></a>'),e(".flex-control-nav .prev").click(function(){e(".flex-prev").trigger("click")}),e(".flex-control-nav .next").click(function(){e(".flex-next").trigger("click")}),e(".flex-control-nav").wrap("<div class='container'></div>"),e("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:128,itemMargin:4,asNavFor:"#slider-product"}),e("#slider-product").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#carousel"}),e(".category-slider").flexslider({animation:"fade",slideshowSpeed:7e3,animationSpeed:600,pauseOnHover:!1,prevText:"",nextText:""}),t(),e(window).resize(function(){t()});var a=0;function i(n){var t=0;return n.each(function(){var n=e(this).outerHeight();n>t&&(t=n)}),t}e("#nav .navbar-nav > li .dropdown-toggle").hover(function(){e("#nav .navbar-nav > li").removeClass("open open-nav"),e(this).parent().addClass("open-nav open")},function(n){(a=n.pageY)<96&&e("#nav .navbar-nav > li").removeClass("open open-nav")}),e(document).mousemove(function(e){a=e.pageY}),e(".dropdown-menu").hover(function(){},function(){e("#nav .navbar-nav > li").removeClass("open open-nav")}),e(document).on("click",".yamm .dropdown-menu",function(e){e.stopPropagation()}),e(document).on("click",".yamm .dropdown-toggle",function(n){document.location=e(this).attr("href")}),e("input").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal",increaseArea:"20%"}),e("#contact-form").on("submit",function(n){n.preventDefault(),e(this).find(".error").removeClass("error"),e(this).find(".err_msg").fadeOut(200);for(var t,a,i,r,o,s,l,c,d,u=(t=n,r=e(t.target),o=[],r.find("input, textarea").each(function(){(a=e(this).data("validate"))&&!(i=e(this).val()).match(a)&&o.push(this)}),o),f=0;f<u.length;f++)e(u[f]).addClass("error");return u.length?(e("body, html").animate({scrollTop:e(u[0]).offset().top-100},"easeInCube",function(){e(this).select()}),!1):(s=n,d=(c=(l=e(s.target)).find("button")).text(),e.ajax({url:"inc/phpmailer/contact.php",data:l.serialize(),dataType:"json",type:"POST",beforeSend:function(){e("#contact_fail .alert-inner").empty(),e("#contact_fail").hide(),c.attr("disabled","disabled").addClass("btn-disabled").css("cursor","not-allowed").text("Sending...")},success:function(n){if(void 0===n.success){for(var t in n)e("#contact_fail .alert-inner").append("<p>"+n[t]+"</p>");e("#contact_fail").fadeIn()}else e("#contact_success").fadeIn(700,function(){var n=e(this);setTimeout(function(){n.fadeOut()},5e3)})},complete:function(){c.removeAttr("disabled","disabled").removeClass("btn-disabled").css("cursor","pointer").html(d)},error:function(n,t,a){switch(n.status){case 404:alert("We're Sorry... The file you are looking for is not found :(");break;case 200:e("#contact_fail .alert-inner").append("<p>Oops, something went wrong and we couldn't send your message :(</p>"),e("#contact_fail").fadeIn();break;default:console.log(n,t,a)}}}),!0)}),e(".sidebar h5").click(function(n){n.preventDefault(),e(this).parent().find(".tgl_c").slideToggle(300),e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active")}),e(document).mouseup(function(n){0===e(".menubtn").has(n.target).length&&e(".menubtn").removeClass("menu_cshow")}),e("input").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal",increaseArea:"20%"}),e(".JS-open-get-call-popup").on("click",function(){return e(".get-back-call-popup_js").fadeIn(),!1}),e(".trubka").on("click",function(){return e(".get-back-call-popup_js").fadeIn(),!1}),e(document).click(function(n){var t=e(".popup-form");t.is(n.target)||0!==t.has(n.target).length||t.parent().parent().fadeOut()}),e(".close-popup_js").click(function(){return e(this).parent().parent().parent().fadeOut(),!1}),e(".single-product-in-row-counter__control_left-JS").click(function(){var n=e(this).parent().find("input").val();return 0!=n&&n--,e(this).parent().find("input").val(n),!1}),e(".single-product-in-row-counter__control_right-JS").click(function(){var n=e(this).parent().find("input").val();return n++,e(this).parent().find("input").val(n),!1})}),$(document).ready(function(){$(".quantity-count").on("keypress",function(e){validate(e)}),$(".quantity-count").on("keyup",function(e){var n=this.value,t=$(this).data("price");void 0!==t&&(""==n?($(".quantity-price").val(""),$(".quantity-sum").val(""),$("form.cart").find('input[name="quantity"]').val(0)):($(".quantity-price").val(t),$(".quantity-sum").val(t*n),$("form.cart").find('input[name="quantity"]').val(n)))}),$("form.cart").on("submit",function(){if(""==$(".quantity-count").val())return $(".count-error").text("Заполните количество"),!1}),$(".burger-tgl, .burger-close").on("click",function(){$(".burger-m").fadeToggle()})});